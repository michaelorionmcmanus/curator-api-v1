Properties:
  AttributeDefinitions:
  - {AttributeName: updated, AttributeType: N}
  - {AttributeName: account_id, AttributeType: S}
  - {AttributeName: channel, AttributeType: S}
  GlobalSecondaryIndexes:
  - IndexName: account-index
    KeySchema:
    - {AttributeName: account_id, KeyType: HASH}
    - {AttributeName: channel, KeyType: RANGE}
    Projection: {ProjectionType: ALL}
    ProvisionedThroughput: {ReadCapacityUnits: 1, WriteCapacityUnits: 1}
  KeySchema:
  - {AttributeName: channel, KeyType: HASH}
  - {AttributeName: account_id, KeyType: RANGE}
  LocalSecondaryIndexes:
  - IndexName: updated-index
    KeySchema:
    - {AttributeName: channel, KeyType: HASH}
    - {AttributeName: updated, KeyType: RANGE}
    Projection: {ProjectionType: ALL}
  ProvisionedThroughput: {ReadCapacityUnits: 1, WriteCapacityUnits: 1}
  TableName: ${{self:service}}-${{opt:stage, self:provider.stage}}-account-credentials
Type: AWS::DynamoDB::Table
